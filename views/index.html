<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Websocket Example</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet"/>
  </head>
  <body>

    <h2 class="orange">Endpoint: {{endpointid}}</h2>
    <h3 class="purple">Room:     {{roomname}}</h3>
    <div class="serveroutput"></div>

    <br />
    <form class="form">
      <input class="clientinput" name="Client input" placeholder="please type some stuff to send via websocket... "/>
      <button type="submit" name="Submit Button" class="submit">Submit</button>
    </form>


    <!-- socket.io innit -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/elt.js" type="text/javascript"></script>
    <script src="js/clientcomms.js" type="text/javascript"></script>
    <script src="js/chatroom.js" type="text/javascript"></script>
    <script type="text/javascript">

      // Globals
      const input = document.querySelector('.clientinput');
      const output = document.querySelector('.serveroutput');
      const form = document.querySelector('.form');

      // Set up comms
      const myComms = new Comms('{{roomname}}', '{{endpointid}}');

      // Enable chat message module
      chatRoom(myComms, input, output, form)

    // Debug.
    localStorage.debug = '*';
    </script>
  </body>
</html>
